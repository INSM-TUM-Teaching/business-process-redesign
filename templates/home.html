{% extends 'base.html' %}

{% block title %}Business Process Redesign Tool{% endblock %}

{% block content %}
<!-- Tab Navigation -->
<div class="tabs">
    <button class="tab active">Adjacency Matrix</button>
</div>

<div id="adjacency-matrix" class="tab-content active">
    <div class="container">
        <h2 class="section-title">Adjacency Matrix</h2>
        
        <div class="grid grid-2">
            <div class="card">
                <h3 class="card-title">Input</h3>
                <div class="form-group">
                    <label class="form-label">Enter process traces (one per line, activities separated by commas):</label>
                    <textarea class="form-control textarea" id="traces-input" placeholder="A,B,C,D&#10;A,C,B,D&#10;A,B,D"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Or upload an Adjacency Matrix in YAML format:</label>
                    <input type="file" class="form-control" id="yaml-file" accept=".yaml,.yml">
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="processInput()">Generate Matrix</button>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Matrix Display</h3>
                <div class="matrix-display" id="matrix-display">
                    <div class="alert alert-info">
                        Provide traces or upload a file to generate the matrix.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="change-operations" class="tab-content active" style="margin-top: 20px;">
    <div class="container">
        <h2 class="section-title">Change Operations</h2>
        <div class="grid grid-2">
            <div class="card">
                <h3 class="card-title">Operation Configuration</h3>
                <div class="form-group">
                    <label class="form-label" for="change-operation-select">Select Change Operation:</label>
                    <select id="change-operation-select" class="form-control">
                        <option value="">--Please choose an operation--</option>
                        <option value="delete">Delete Activity</option>
                        <option value="collapse">Collapse Activities</option>
                        <option value="replace">Replace Activity</option>
                        <option value="skip">Skip Activity</option>
                        <option value="swap">Swap Activities</option>
                    </select>
                </div>
                <div id="operation-inputs"></div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="performChangeOperation()">Perform Operation</button>
                </div>
            </div>
            <div class="card">
                <h3 class="card-title">Original Matrix</h3>
                <div class="matrix-display" id="original-matrix-display">
                    <div class="alert alert-info">
                        Generate a matrix first to perform operations on it.
                    </div>
                </div>
            </div>
        </div>
        <div class="grid grid-1" style="margin-top: 20px;">
            <div class="card">
                <h3 class="card-title">Modified Matrix</h3>
                <div class="matrix-display" id="modified-matrix-display">
                    <div class="alert alert-info">
                        The result of the operation will be displayed here.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
